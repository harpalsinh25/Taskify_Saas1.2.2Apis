name: 'Task status and performance'
description: |-
  This endpoint allows you to update the status of a task by providing the task ID and the new status ID.
  It logs the status change in the task's status timeline and notifies assigned users and clients.
endpoints:
  -
    httpMethods:
      - POST
    uri: 'api/master-panel/task/{id}/status/{newStatus}'
    metadata:
      groupName: 'Task status and performance'
      groupDescription: |-
        This endpoint allows you to update the status of a task by providing the task ID and the new status ID.
        It logs the status change in the task's status timeline and notifies assigned users and clients.
      subgroup: ''
      subgroupDescription: ''
      title: 'Update the status of a task.'
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: 'The ID of the task.'
        required: true
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      newStatus:
        name: newStatus
        description: 'The ID of the new status.'
        required: true
        example: 8
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 25
      newStatus: 8
    queryParameters:
      isApi:
        name: isApi
        description: 'Optional. Set to true if calling from API to get a structured API response.'
        required: false
        example: true
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      isApi: true
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "error": false,
            "message": "Status updated successfully.",
            "id": "25",
            "type": "task",
            "activity_message": "herry porter updated task status from Approved to Completed",
            "data": {
              "id": 25,
              "workspace_id": 2,
              "title": "Test Task Title",
              "status": "Approved",
              "status_id": 8,
              "priority": "low",
              "priority_id": 2,
              "users": [
                {
                  "id": 2,
                  "first_name": "herry",
                  "last_name": "porter",
                  "email": "admin@gmail.com",
                  "photo": "http://localhost:8000/storage/photos/no-image.jpg"
                }
              ],
              "start_date": "2025-06-01",
              "due_date": "2025-06-10",
              "project": "favorite project",
              "project_id": 2,
              "description": "This is a test task description.",
              ...
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 403
        content: |-
          {
            "error": true,
            "message": "You are not authorized to set this status."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\Task] 999"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 500
        content: |-
          {
            "error": true,
            "message": "Task status couldn't updated."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/master-panel/tasks/save-view-preference
    metadata:
      groupName: 'Task status and performance'
      groupDescription: |-
        Stores the default task view (e.g., board, list, calendar) for the currently authenticated user or client.
        This preference determines how tasks are displayed by default in the UI.

        Requires the user to be authenticated.
      subgroup: ''
      subgroupDescription: ''
      title: "Save User's Default Task View Preference"
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      view:
        name: view
        description: 'The view preference to set.'
        required: true
        example: board
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      view: board
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "error": false,
            "message": "Default View Set Successfully."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "The given data was invalid.",
            "errors": {
              "view": [
                "The view field is required."
              ]
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/master-panel/tasks/update-priority
    metadata:
      groupName: 'Task status and performance'
      groupDescription: 'This endpoint updates the priority of a specific task. You can provide a new priority or remove it by passing `null` or `0`.'
      subgroup: ''
      subgroupDescription: ''
      title: 'Update Task Priority'
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "optional The ID of the task. If provided in the URL, it doesn't need to be in the body."
        required: false
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 25
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      id:
        name: id
        description: 'The ID of the task to update. Required if not provided in the URL.'
        required: true
        example: 25
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      priorityId:
        name: priorityId
        description: 'nullable The new priority ID. Use `null` or `0` to remove the priority.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      id: 25
      priorityId: 1
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "error": false,
            "message": "Priority updated successfully.",
            "id": 25,
            "type": "task",
            "activity_message": "herry porter updated task priority from low to high",
            "data": {
              "id": 25,
              "workspace_id": 2,
              "title": "Test Task Title",
              "status": "Approved",
              "status_id": 8,
              "priority": "high",
              "priority_id": 1,
              "users": [
                {
                  "id": 2,
                  "first_name": "herry",
                  "last_name": "porter",
                  "email": "admin@gmail.com",
                  "photo": "http://localhost:8000/storage/photos/no-image.jpg"
                },
                {
                  "id": 3,
                  "first_name": "John",
                  "last_name": "Doe",
                  "email": "admin2@gmail.com",
                  "photo": "http://localhost:8000/storage/photos/no-image.jpg"
                }
              ],
              "user_id": [2, 3],
              "clients": [],
              "start_date": "2025-06-01",
              "due_date": "2025-06-10",
              "project": "favorite project",
              "project_id": 2,
              "description": "This is a test task description.",
              "note": "Optional note about the task.",
              "favorite": 0,
              "client_can_discuss": null,
              "created_at": "2025-05-28",
              "updated_at": "2025-06-03",
              "enable_reminder": 1,
              "last_reminder_sent": null,
              "frequency_type": "weekly",
              "day_of_week": 3,
              "time_of_day": "14:30:00",
              "enable_recurring_task": 1,
              "recurrence_frequency": "monthly",
              "recurrence_day_of_month": 15,
              "recurrence_starts_from": "2025-06-01",
              "recurrence_occurrences": 6,
              "billing_type": "billable",
              "completion_percentage": 0,
              "task_list_id": null
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 400
        content: |-
          {
            "error": true,
            "message": "No priority change detected."
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "message": "The given data was invalid.",
            "errors": {
              "id": ["The id field is required."],
              "priorityId": ["The selected priorityId is invalid."]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 500
        content: |-
          {
            "error": true,
            "message": "Priority couldn’t be updated."
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
